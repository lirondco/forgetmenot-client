(this["webpackJsonpforgetmenot-client"]=this["webpackJsonpforgetmenot-client"]||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),c=n(25),o=n.n(c),i=n(6),l=n(27),u=n(2),h=n(3),d=n(5),j=n(4),b={user:{}},m=a.a.createContext({list:b,loggedIn:!1,ideas:[],lists:[],error:null,setError:function(){},toggleLoggedIn:function(){},clearError:function(){},setList:function(){},clearList:function(){},setIdeas:function(){},addIdea:function(){},deleteIdea:function(){},clearLists:function(){},setLists:function(){}}),p=m,f=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={list:b,lists:[],ideas:[],error:null,loggedIn:!1},e.deleteIdea=function(t){e.setState({ideas:e.state.ideas.filter((function(e){return e.id!==t}))})},e.toggleLoggedIn=function(){e.setState({loggedIn:!e.state.loggedIn})},e.setError=function(t){console.error(t),e.setState({error:t})},e.clearError=function(){e.setState({error:null})},e.setList=function(t){e.setState({list:t})},e.setLists=function(t){e.setState({lists:t})},e.setIdeas=function(t){e.setState({ideas:t})},e.clearList=function(){e.setList(b),e.setIdeas([])},e.clearLists=function(){e.setLists([])},e.addIdea=function(t){e.setIdeas([].concat(Object(l.a)(e.state.ideas),[t]))},e}return Object(h.a)(n,[{key:"render",value:function(){var e={list:this.state.list,ideas:this.state.ideas,lists:this.state.lists,error:this.state.error,loggedIn:this.state.loggedIn,toggleLoggedIn:this.toggleLoggedIn,setError:this.setError,clearError:this.clearError,setLists:this.setLists,setList:this.setList,setIdeas:this.setIdeas,clearList:this.clearList,addIdea:this.addIdea,deleteIdea:this.deleteIdea};return Object(s.jsx)(m.Provider,{value:e,children:this.props.children})}}]),n}(r.Component),O=a.a.createContext({lists:[],error:null,setError:function(){},clearError:function(){},setLists:function(){},addList:function(){},deleteList:function(){},clearLists:function(){}}),x=O,g=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={lists:[],error:null},e.deleteList=function(t){e.setState({lists:e.state.lists.filter((function(e){return e.id!==t}))})},e.setLists=function(t){e.setState({lists:t})},e.clearLists=function(){e.setLists([])},e.setError=function(t){console.error(t),e.setState({error:t})},e.clearError=function(){e.setState({error:null})},e.addList=function(t){e.setState({list:t})},e}return Object(h.a)(n,[{key:"render",value:function(){var e={lists:this.state.lists,error:this.state.error,setError:this.setError,clearError:this.clearError,setLists:this.setLists,addList:this.addList,deleteList:this.deleteList,clearLists:this.clearLists};return Object(s.jsx)(O.Provider,{value:e,children:this.props.children})}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(7),y=n(9),L=n(13);n(33);function w(){return Object(s.jsx)("span",{className:"Hyph",children:" - "})}function k(e){var t=e.className,n=Object(L.a)(e,["className"]);return Object(s.jsx)("button",Object(y.a)({className:["Button",t].join(" ")},n))}function N(e){var t=e.className,n=Object(L.a)(e,["className"]);return Object(s.jsx)("textarea",Object(y.a)({className:["Textarea",t].join(" ")},n))}function S(e){var t=e.className,n=Object(L.a)(e,["className"]);return Object(s.jsx)("input",Object(y.a)({className:["Input",t].join(" ")},n))}function I(e){var t=e.className,n=Object(L.a)(e,["className"]);return Object(s.jsx)("span",Object(y.a)(Object(y.a)({className:["Required",t].join(" ")},n),{},{children:"*"}))}function _(e){var t=e.className,n=e.list,r=Object(L.a)(e,["className","list"]),a=["Section",n&&"Section--list",t].filter(Boolean).join(" ");return Object(s.jsx)("section",Object(y.a)({className:a},r))}var A="https://calm-bayou-27862.herokuapp.com/api",E="forgetmenot-client-auth-token",T={saveAuthToken:function(e){window.localStorage.setItem(E,e)},getAuthToken:function(){return window.localStorage.getItem(E)},clearAuthToken:function(){window.localStorage.removeItem(E)},hasAuthToken:function(){return!!T.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))}},P=T,F=(n(34),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleLogoutClick=function(){P.clearAuthToken(),e.context.toggleLoggedIn(),console.log(e.context.loggedIn,"context logged in")},e}return Object(h.a)(n,[{key:"renderLogoutLink",value:function(){return Object(s.jsxs)("div",{className:"Header__logged-in",children:[Object(s.jsx)(i.b,{onClick:this.handleLogoutClick,to:"/",children:"Logout"}),Object(s.jsx)(w,{}),Object(s.jsx)(i.b,{to:"/help",children:"Help"})]})}},{key:"renderLoginLink",value:function(){return Object(s.jsxs)("div",{className:"Header__not-logged-in",children:[Object(s.jsx)(i.b,{to:"/",children:"About"}),Object(s.jsx)(w,{}),Object(s.jsx)(i.b,{to:"/login",children:"Login"}),Object(s.jsx)(w,{}),Object(s.jsx)(i.b,{to:"/join",children:"Register"}),Object(s.jsx)(w,{}),Object(s.jsx)(i.b,{to:"/help",children:"Help"})]})}},{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"Header",children:[Object(s.jsx)("h1",{className:"app_name",children:Object(s.jsxs)(i.b,{to:"/",children:[" ","ForgetMeNot"]})}),P.hasAuthToken()?this.renderLogoutLink():this.renderLoginLink()]})}}]),n}(r.Component));function D(e){var t=e.component,n=Object(L.a)(e,["component"]),r=t;return Object(s.jsx)(v.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return P.hasAuthToken()?Object(s.jsx)(r,Object(y.a)({},e)):Object(s.jsx)(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function C(e){var t=e.component,n=Object(L.a)(e,["component"]),r=t;return Object(s.jsx)(v.b,Object(y.a)(Object(y.a)({},n),{},{render:function(e){return P.hasAuthToken()?Object(s.jsx)(v.a,{to:"/"}):Object(s.jsx)(r,Object(y.a)(Object(y.a)({},e),{},{updateUserLoggedIn:n.updateUserLoggedIn}))}}))}F.contextType=p;var R={postLogin:function(e){var t=e.username,n=e.password;return fetch("".concat(A,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:n})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postUser:function(e){return fetch("".concat(A,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={error:null},e.handleSubmitJwtAuth=function(t){t.preventDefault(),e.setState({error:"Processing ..."});var n=t.target,s=n.username,r=n.password;R.postLogin({username:s.value,password:r.value}).then((function(t){e.setState({error:null}),s.value="",r.value="",P.saveAuthToken(t.authToken),e.props.onLoginSuccess(),e.context.toggleLoggedIn()})).catch((function(t){e.setState({error:t.error})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.error;return Object(s.jsxs)("form",{className:"LoginForm",onSubmit:this.handleSubmitJwtAuth,children:[Object(s.jsxs)("div",{className:"username",children:[Object(s.jsx)("label",{htmlFor:"LoginForm__username",children:"Username"}),Object(s.jsx)(S,{required:!0,name:"username",id:"LoginForm__username"})]}),Object(s.jsxs)("div",{className:"password",children:[Object(s.jsx)("label",{htmlFor:"LoginForm__password",children:"Password"}),Object(s.jsx)(S,{required:!0,name:"password",type:"password",id:"LoginForm__password"})]}),Object(s.jsx)(k,{type:"submit",children:"Login"}),Object(s.jsx)("div",{role:"alert",children:e&&Object(s.jsx)("p",{className:"red",children:e})})]})}}]),n}(r.Component);q.defaultProps={onLoginSuccess:function(){}},q.contextType=p;n(43);var H=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleLoginSuccess=function(){var t=e.props,n=t.location,s=t.history,r=(n.state||{}).from||"/";s.push(r)},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(_,{className:"LoginPage",children:[Object(s.jsx)("h2",{className:"login_page",children:"Login"}),Object(s.jsx)(q,{onLoginSuccess:this.handleLoginSuccess})]})}}]),n}(r.Component);H.defaultProps={location:{},history:{push:function(){}}};var U=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={error:null},e.handleSubmit=function(t){t.preventDefault();var n=t.target,s=n.username,r=n.email,a=n.password;e.setState({error:"Processing ..."}),R.postUser({username:s.value,email:r.value,password:a.value}).then((function(t){return R.postLogin({username:s.value,password:a.value}).then((function(t){P.saveAuthToken(t.authToken),e.context.toggleLoggedIn(),s.value="",r.value="",a.value="",e.props.onRegistrationSuccess(),e.setState({error:null})}))})).catch((function(t){e.setState({error:t.error})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.error;return Object(s.jsxs)("form",{className:"RegistrationForm",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"username",children:[Object(s.jsxs)("label",{htmlFor:"RegistrationForm__username",children:["Username ",Object(s.jsx)(I,{})]}),Object(s.jsx)(S,{name:"username",type:"text",required:!0,id:"RegistrationForm__username"})]}),Object(s.jsxs)("div",{className:"email",children:[Object(s.jsxs)("label",{htmlFor:"RegistrationForm__email",children:["Email Address ",Object(s.jsx)(I,{})]}),Object(s.jsx)(S,{name:"email",type:"email",required:!0,id:"RegistrationForm__email"})]}),Object(s.jsxs)("div",{className:"password",children:[Object(s.jsxs)("label",{htmlFor:"RegistrationForm__password",children:["Password ",Object(s.jsx)(I,{})]}),Object(s.jsx)(S,{name:"password",type:"password",required:!0,id:"RegistrationForm__password"})]}),Object(s.jsx)(k,{type:"submit",children:"Register"}),Object(s.jsx)("div",{role:"alert",children:e&&Object(s.jsx)("p",{className:"red",children:e})})]})}}]),n}(r.Component);U.defaultProps={onRegistrationSuccess:function(){}},U.contextType=p;n(44);var M=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleRegistrationSuccess=function(t){e.props.history.push("/")},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(_,{className:"RegistrationPage",children:[Object(s.jsx)("h2",{className:"register_header",children:"Register"}),Object(s.jsx)(U,{onRegistrationSuccess:this.handleRegistrationSuccess})]})}}]),n}(r.Component);M.defaultProps={history:{push:function(){}}};n(45);var z=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(_,{className:"NotFoundPage",children:[Object(s.jsx)("h2",{className:"error_title",children:"Four-Oh-Four Error - Uh oh!"}),Object(s.jsx)("p",{className:"error_text",children:"I don't think this was supposed to happen. Please check your URL and try again"})]})}}]),n}(r.Component),J={getLists:function(){return fetch("".concat(A,"/lists"),{headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getList:function(e){return fetch("".concat(A,"/lists/").concat(e),{headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getListIdeas:function(e){return fetch("".concat(A,"/lists/").concat(e,"/ideas"),{headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postList:function(e){return fetch("".concat(A,"/lists"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postIdea:function(e,t,n){return fetch("".concat(A,"/ideas"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({list_id:e,name:t,content:n})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deleteIdea:function(e){return fetch("".concat(A,"/ideas/").concat(e),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())}}).then((function(t){return t.ok?console.log("delete from api service ",e):t.json().then((function(e){return Promise.reject(e)}))}))},deleteList:function(e){return fetch("".concat(A,"/lists/").concat(e),{method:"DELETE",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())}}).catch((function(e){return console.log(e)}))}},B=(n(46),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleClickDelete=function(t){t.preventDefault();var n=e.props.id;window.confirm("WARNING: Deleting is irreversible and will delete all ideas in this list. Are you sure you want to delete?")&&J.deleteList(n).then((function(){return e.props.onDeleteSuccess()})).catch((function(e){return console.error({error:e})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.list;return Object(s.jsxs)("div",{className:"IdeaListItem__main",children:[Object(s.jsxs)(i.b,{to:"/lists/".concat(e.id),className:"IdeaListItem",children:[Object(s.jsx)("header",{className:"IdeaListItem__header",children:Object(s.jsx)("h2",{className:"IdeaListItem__heading",children:e.name})}),Object(s.jsx)("footer",{className:"IdeaListItem__footer",children:Object(s.jsx)(W,{list:e})})]}),Object(s.jsx)("button",{type:"button",className:"delete_list_button",onClick:this.handleClickDelete,children:"Delete"})]})}}]),n}(r.Component));function W(e){var t=e.list,n="ideas";return t.number_of_ideas<2&&(n="idea"),Object(s.jsxs)("span",{className:"IdeaListItem__idea-count",children:[t.number_of_ideas," ",n]})}B.defaultProps={onDeleteSuccess:function(){}};n(47);var G=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleDeleteSuccess=function(t){e.props.history.push("/"),e.context.deleteList(t)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){J.getLists().then(this.context.setLists).then(this.context.clearError).catch(this.context.setError)}},{key:"componentWillUnmount",value:function(){this.context.clearLists()}},{key:"renderLists",value:function(){var e=this,t=this.context.lists;return(void 0===t?[]:t).map((function(t){return Object(s.jsx)(B,{id:t.id,list:t,onDeleteSuccess:function(){return e.handleDeleteSuccess(t.id)}},t.id)}))}},{key:"render",value:function(){var e=this.context.error;return Object(s.jsxs)(_,{list:!0,className:"ListsPage",children:[Object(s.jsxs)("div",{className:"newlist_idea",children:[Object(s.jsx)(i.b,{to:"/newidea",children:Object(s.jsx)("div",{className:"newidea",children:"New Idea"})}),Object(s.jsx)(i.b,{to:"/newlist",children:Object(s.jsx)("div",{className:"newList",children:"New List"})})]}),e?Object(s.jsx)("p",{className:"red",children:"There was an error, try again"}):this.renderLists()]})}}]),n}(r.Component);G.defaultProps={history:{push:function(){}}},G.contextType=x;n(24);function X(){return Object(s.jsxs)("div",{className:"about_page",children:[Object(s.jsx)("h1",{children:"About this App"}),Object(s.jsxs)("p",{children:['This app in progress was developed specifically for those of us who have very active brains due to ADHD. Forget the pen and paper, your unorganisable notes app in your phone, or your calendar. This app enables you to store "ideas" in different "lists" that you\'ve randomly thought of and will surely forget in 5 minutes. It\'s not a calendar so it does not have any time pressure, so feel free to go back to your lists whenever it\'s convenient for you, instead of rushing through a deadline and ultimately getting behind on your own schedule.',Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),"This app is flexible, in a way that you can list literally anything. Random kitchen ideas you saw at IKEA? A restaurant your friend told you about? A funny joke you thought of on the bus? Anything. And we will expand functionality based on user feedback as we go along.",Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),"My goal is to make our lives living with ADHD a tad bit easier, with our active brains and short term memories taken into consideration. I strive to be more helpful as I expand this app and onto other projects."]}),Object(s.jsx)("h1",{children:"About the developer"}),Object(s.jsx)("p",{children:"My name is Liron and I am an Israeli-American developer based both in Southern California and in Tel Aviv. I struggled my entire life with ADHD. My brain likes wandering around and it's very difficult to keep up with it. It has also affected my short-term memory and my ability to keep up with tasks and routines. I thought of this app during one of those instances, when I was shopping at Costco and saw something that I told myself that I should save for. When I got home, that 'something' has been forgotten and I still can't recall what it was. It is what it is, I guess."}),Object(s.jsx)("h1",{children:"Demo account"}),Object(s.jsxs)("p",{children:["Try this app out by using the following credentials:",Object(s.jsx)("br",{}),"username: TestUser",Object(s.jsx)("br",{}),"password: TestPassword1!",Object(s.jsx)("br",{}),"This user has preset lists and ideas for demo. Feel free to add your own."]})]})}var Y=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)(_,{className:"homepage",children:P.hasAuthToken()?Object(s.jsx)(G,{}):Object(s.jsx)(X,{})})}}]),n}(r.Component),K=n(19);var Q=function(e){return Object(s.jsx)("svg",{className:e.className,height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:Object(s.jsx)("path",{fill:e.fill,d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})})};n(48);var $=function(e){var t=Object(r.useState)(""),n=Object(K.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)("0px"),i=Object(K.a)(o,2),l=i[0],u=i[1],h=Object(r.useState)("accordion__icon"),d=Object(K.a)(h,2),j=d[0],b=d[1],m=Object(r.useRef)(null);return Object(s.jsxs)("div",{className:"accordion__section",children:[Object(s.jsxs)("div",{className:"accordion ".concat(a),onClick:function(){c(""===a?"active":""),u("active"===a?"0px":"".concat(m.current.scrollHeight,"px")),b("active"===a?"accordion__icon":"accordion__icon rotate")},children:[Object(s.jsx)("p",{className:"accordion__title",children:e.title}),Object(s.jsx)(Q,{className:"".concat(j),width:10,fill:"#EFEBE9"})]}),Object(s.jsxs)("div",{ref:m,style:{maxHeight:"".concat(l)},className:"accordion__content",children:[Object(s.jsx)("div",{className:"accordion__text",dangerouslySetInnerHTML:{__html:e.content}}),Object(s.jsx)("button",{type:"button",className:"delete_idea",onClick:function(t){t.preventDefault();var n=e.id;J.deleteIdea(n).then((function(){return e.onDeleteSuccess()})).catch((function(e){return console.error({error:e})}))},children:"Delete Idea "})]})]})},V=(n(49),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleDeleteSuccess=function(t){e.props.history.push("/lists/".concat(e.context.list.id)),e.context.deleteIdea(t)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.listId;J.getList(e).then(this.context.setList).then(this.context.clearError).catch(this.context.setError),J.getListIdeas(e).then(this.context.setIdeas).then(this.context.clearError).catch(this.context.setError)}},{key:"componentWillUnmount",value:function(){this.context.clearList()}},{key:"renderList",value:function(){var e=this.context,t=e.list,n=e.ideas;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{className:"list_name",children:t.name}),Object(s.jsx)(Z,{ideas:n,deleteFunction:this.handleDeleteSuccess})]})}},{key:"render",value:function(){var e,t=this.context,n=t.error,r=t.list,a=void 0===r?{}:r;return e=n?"List doesn't exist"===n.error?Object(s.jsx)("p",{className:"red",children:"List not found"}):Object(s.jsx)("p",{className:"red",children:"There was an error"}):a.id?this.renderList():Object(s.jsx)("div",{className:"loading"}),Object(s.jsx)(_,{className:"IdeasPage",children:e})}}]),n}(r.Component));function Z(e){var t=e.ideas,n=void 0===t?[]:t,r=e.deleteFunction;return 0===n.length?Object(s.jsxs)("div",{className:"empty_list",children:[Object(s.jsx)("p",{children:"This list is empty!"}),Object(s.jsx)(i.b,{to:"/",children:"Go back to home page"})]}):n.map((function(e){return Object(s.jsx)($,{onDeleteSuccess:function(){return r(e.id)},id:e.id,title:e.name,content:e.content},e.id)}))}V.defaultProps={match:{params:{}},history:{push:function(){}}},V.contextType=p;n(50),n(51);var ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).listSelection=[],e.missingList=!1,e.handleSubmit=function(t){t.preventDefault();var n=t.target.list,s=t.target.name,r=t.target.content;J.postIdea(n.value,s.value,r.value).then((function(){n.value="",s.value="",r.value="",e.props.onPostIdeaSuccess()})).catch(e.context.setError).catch(e.missingList=!0)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){J.getLists().then(this.context.setLists).then(this.context.clearError).catch(this.context.setError)}},{key:"renderListError",value:function(){if(console.log(this.missingList),!0===this.missingList)return Object(s.jsxs)("p",{className:"red",children:["Please select a list! If you don't have a list, ",Object(s.jsx)(i.b,{to:"/newlist",children:"click here"})," to make one."]})}},{key:"render",value:function(){var e=this.context.lists,t=void 0===e?[]:e;return Object(s.jsxs)("div",{className:"insertIdea",children:[Object(s.jsx)("h3",{children:"You're entering a new idea"}),Object(s.jsxs)("form",{className:"ideaForm",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"ideaName",children:[Object(s.jsx)("label",{htmlFor:"name",children:"New idea's name:"}),Object(s.jsx)(I,{}),Object(s.jsx)(S,{required:!0,type:"text",maxLength:"30",name:"name",id:"name"})]}),Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("label",{htmlFor:"content",children:"Description"}),Object(s.jsx)(I,{}),Object(s.jsx)(N,{required:!0,name:"content",id:"content",cols:"30",rows:"3",maxLength:"240",placeholder:"Type a short description..."}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{htmlFor:"list",children:"Add to which list?"}),Object(s.jsx)(I,{}),Object(s.jsxs)("select",{id:"list",name:"list",required:!0,children:[Object(s.jsx)("option",{value:null,children:"..."}),t.map((function(e){return Object(s.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(s.jsx)(k,{type:"submit",children:"Add Idea"}),this.renderListError()]})]})}}]),n}(r.Component);ee.defaultProps={onPostIdeaSuccess:function(){}},ee.contextType=p;var te=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handlePostIdeaSuccess=function(t){e.props.history.push("/")},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)(_,{className:"NewIdeaPage",children:Object(s.jsx)(ee,{onPostIdeaSuccess:this.handlePostIdeaSuccess})})}}]),n}(r.Component);te.defaultProps={history:{push:function(){}}};n(52);var ne=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleSubmitList=function(t){t.preventDefault();var n=t.target.name;J.postList(n.value).then(e.context.addList).then((function(){n.value="",e.props.onPostListSuccess()})).catch(e.context.setError)},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"insertList",children:[Object(s.jsx)("h3",{children:"You're entering a new list for your ideas"}),Object(s.jsxs)("form",{className:"listForm",onSubmit:this.handleSubmitList,children:[Object(s.jsxs)("div",{className:"listName",children:[Object(s.jsx)("label",{htmlFor:"name",children:"New list's name:"}),Object(s.jsx)(I,{}),Object(s.jsx)(S,{required:!0,type:"text",maxLength:"30",name:"name",id:"name"})]}),Object(s.jsx)(k,{type:"submit",children:"Add List"})]})]})}}]),n}(r.Component);ne.defaultProps={onPostListSuccess:function(){}},ne.contextType=x;var se=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handlePostListSuccess=function(t){e.props.history.push("/")},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)(_,{className:"newListPage",children:Object(s.jsx)(ne,{onPostListSuccess:this.handlePostListSuccess})})}}]),n}(r.Component);se.defaultProps={history:{push:function(){}}};n(53);var re=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(h.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("caught an error",e,t),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(s.jsxs)("div",{className:"page_error",children:[Object(s.jsx)("h3",{children:"Oh no! Looks like something went wrong."}),Object(s.jsx)("p",{children:"We apologise for any inconvenience."})]}):this.props.children}}]),n}(a.a.Component),ae=n(18),ce=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).submitForm=s.submitForm.bind(Object(ae.a)(s)),s.state={status:""},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.status;return Object(s.jsxs)("form",{onSubmit:this.submitForm,action:"https://formspree.io/f/mzbkwaao",method:"POST",className:"contact_form",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(s.jsx)(I,{}),Object(s.jsx)(S,{type:"email",name:"email",required:!0}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{htmlFor:"message",children:"Message:"}),Object(s.jsx)(I,{}),Object(s.jsx)(N,{required:!0,name:"message",id:"message",cols:"30",rows:"5"}),"SUCCESS"===e?Object(s.jsx)("p",{children:"Thanks!"}):Object(s.jsx)(k,{type:"submit",children:"Submit"}),"ERROR"===e&&Object(s.jsx)("p",{children:"Ooops! There was an error."})]})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=e.target,s=new FormData(n),r=new XMLHttpRequest;r.open(n.method,n.action),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?(n.reset(),t.setState({status:"SUCCESS"})):t.setState({status:"ERROR"}))},r.send(s)}}]),n}(a.a.Component);function oe(){return Object(s.jsxs)("div",{className:"help_page",children:[Object(s.jsx)("h1",{children:"Questions? Suggestions?"}),Object(s.jsx)("h3",{children:"Report a problem, ask a question, or suggest how we can improve"}),Object(s.jsx)(ce,{})]})}var ie=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)(re,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"App__header",children:Object(s.jsx)(F,{})}),Object(s.jsxs)("main",{className:"App__main",children:[this.state.hasError&&Object(s.jsx)("p",{className:"red",children:"There was an error! Oh no!"}),Object(s.jsxs)(v.d,{children:[Object(s.jsx)(v.b,{exact:!0,path:"/",component:Y}),Object(s.jsx)(v.b,{path:"/help",component:oe}),Object(s.jsx)(C,{path:"/login",component:H}),Object(s.jsx)(C,{path:"/join",component:M}),Object(s.jsx)(D,{path:"/lists/:listId",component:V}),Object(s.jsx)(D,{path:"/newidea",component:te}),Object(s.jsx)(D,{path:"/newlist",component:se}),Object(s.jsx)(v.b,{component:z})]})]})]})})}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),n}(r.Component);n(54);o.a.render(Object(s.jsx)(i.a,{children:Object(s.jsx)(g,{children:Object(s.jsx)(f,{children:Object(s.jsx)(ie,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.227990a1.chunk.js.map